CREATE DATABASE eightbitdb;

USE `eightbitdb`;

CREATE TABLE `user`(
  `email` varchar(50) NOT NULL,
  `password` varchar(50) NOT NULL,
  `nickname` varchar(50) NOT NULL,
  PRIMARY KEY (`email`),
  UNIQUE INDEX (`nickname`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

CREATE TABLE `board`( 
  `seq` int(5) NOT NULL AUTO_INCREMENT,
  `title` varchar(200) DEFAULT NULL,
  `writer` varchar(30) DEFAULT NULL,
  `content` varchar(2000) DEFAULT NULL,
  `regdate`  date NOT NULL,
  `updatedate`  date NOT NULL,
  `visitcnt` int(5) DEFAULT '0',
  `ofile` varchar(100),
  `sfile` varchar(100), 
  foreign key(`writer`) REFERENCES user(nickname) ON UPDATE cascade ON DELETE cascade,
  PRIMARY KEY (`seq`)
)ENGINE=InnoDB DEFAULT CHARSET=utf8;

set sql_safe_updates = 0;